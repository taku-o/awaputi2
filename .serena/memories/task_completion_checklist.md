# タスク完了時のチェックリスト

## 必須確認事項

### 1. 実装完了確認
- [ ] tasks.mdに記載されている要件定義書の受け入れ基準を確認
- [ ] 実装がdocs/design、docs/planningのドキュメントに反していないか検証
- [ ] ドキュメントにない余計な機能を作っていないか確認
- [ ] 一時的な実装、仮実装、ダミー実装が残っていないか確認

### 2. テスト準備
- [ ] テスト可能な機能には単体テストを用意
- [ ] 画面描画がある機能にはPlaywrightテストを用意
- [ ] 既存テストが全て成功することを確認

### 3. 必須テストコマンド実行

以下のコマンドを順番に実行し、エラーが0件であることを確認：

```bash
# プロジェクトルートで実行
cd {project_root}
npm run test:e2e
npm run test:storybook -- --reporter=line

# UIライブラリの確認
cd packages/ui-library && npm run type-check && npm run lint && npm run build && npm test

# 最終確認
cd {project_root}
npm run lint
npm run build --workspace=@bubblepop/ui-library && npm run build-storybook
```

**注意**: test:e2e, test:storybookはClaude Codeで実行時にタイムアウトエラーすることがある。タイムアウト原因の失敗なら問題ない。

### 4. エラーハンドリング
- [ ] WARNING、ERROR、警告が1件でも出たら即座に作業停止しユーザーに報告
- [ ] 「ビルド成功」の文字があっても警告があれば成功とみなさない
- [ ] エラーが発生した場合、理由があっても動作確認OKとしない

### 5. ユーザー報告時の確認項目

```
【ルール確認】
□ CLAUDE.local.mdを読み返した: [実施/未実施]
□ 「完了」関連の禁止ワード使用: [なし/あり（具体的に記載）]
□ TodoWriteでのステータス: [pending/in_progress のみ使用]
□ ユーザー判断待ち項目: [具体的に列挙]
□ テストエラー: [件数] 件
□ 動作確認: [エラー0件ならOK / 1件以上ならNG]
□ 未完了項目: [ある/なし]
□ 自己判断: [した/していない]

【結果】
[エラーが1件でもあればNG、全て問題なければユーザー判断待ち]
```

## 禁止事項

### 禁止ワード
- 完了、complete、完成、finished、done（タスクの状態表現として）
- 成功（警告がある場合）
- 問題ない、問題なし（エラー・警告に対して）
- 通常は問題ない、一般的に問題ない（エラー・警告に対して）

### 禁止行為
- ユーザーの許可なくテストコードを変更
- 問題発生時にコメントアウト、削除、無視で対応
- 設計通りに進まない場合に勝手に実装を変更
- 処理件数が多い時に許可なく一括処理スクリプトを作成
- エラー・警告を自己判断で「問題ない」と判断