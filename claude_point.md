# BubblePop 実装計画から漏れている機能一覧

## 調査概要
docs/planning と docs/design の資料を詳細に確認し、development_steps_plan.md の実装計画と比較した結果、以下の機能が実装計画から漏れていることが判明しました。

## 実装計画から漏れている主要機能

### 1. 泡の物理挙動システム
- **泡の自然移動システム**: すべての泡が緩やかにランダムな方向に揺れながら移動する機能
  - 基本移動速度: 0.5
  - 方向変更間隔: 2000ms
  - 泡タイプ別の移動特性（通常、石、鉄、escape泡で異なる）
- **泡の呼吸システム**: 泡がゆっくりとサイズ変化（±5%）する機能
  - 呼吸周期: 3000ms
  - 正弦波パターンでの変化
  - 年齢による呼吸の変化（若い泡は活発、老化泡は穏やか）
- **境界反発システム**: 画面端での泡の反発処理
  - 反発係数: 0.7
  - エネルギー損失: 10%
  - 連続反発制限: 最大10回
- **年齢による物理特性変化**: 若い泡は活発、老化泡は穏やか

### 2. カーソル・クリックアニメーションシステム
- **ハンマーカーソル**: ゲームプレイ中のカーソルがハンマーアイコンに変化
  - サイズ: 32x32px
  - 状態: idle、swinging、hitting
- **3段階クリックアニメーション**: 
  - 振りかぶり段階（0-150ms）: 回転-45度、スケール1.2倍
  - 叩き段階（150-250ms）: 回転15度、スケール0.9倍
  - 復帰段階（250ms以降）: 元の状態に復帰
- **衝撃遅延システム**: クリックから200ms後に衝撃発生
- **画面シェイク効果**: 泡を割った時の画面振動
  - 強度: 泡の種類により0.1～0.8
  - 持続時間: 100ms

### 3. エフェクトシステムの詳細実装
- **5バンドイコライザー**: 音響の周波数帯域制御
  - 60Hz、170Hz、350Hz、1000Hz、3500Hz
  - 調整範囲: -12dB～+12dB
- **季節エフェクト**: 春夏秋冬に応じたパーティクル効果
  - 春: 桜の花びら
  - 夏: 光の粒子
  - 秋: 落ち葉
  - 冬: 雪の結晶
- **特別イベントエフェクト**: 新年、誕生日などの特別エフェクト
- **動的品質調整**: デバイス性能に応じた自動品質調整
  - FPS監視によるリアルタイム調整
  - パーティクル数の動的制限

### 4. 音響システムの高度な機能
- **Howler.js音響システム**: UI音響処理用の独立した音響システム
  - メニューBGM、UI効果音専用
  - ゲームエンジンから独立した処理
- **空間音響**: 泡の位置を音で表現する3D音響
  - 左右の音響バランスで位置表現
  - 距離による音量調整
- **AI生成音響対応**: 
  - 音響生成プロンプトの管理
  - 周波数・音程情報の保持
  - 生成履歴とバージョン管理
- **リバーブ・コンプレッサー**: 高度な音響エフェクト
  - ルーム、ホール、プレートリバーブ
  - スレッショルド: -24dB、レシオ: 3:1

### 5. 進歩システムの詳細
- **レベル特典システム**: レベルアップ時の詳細な特典
  - レベル5: 最大HP120、開始アイテム「slowTime」
  - レベル10: 最大HP150、開始アイテム追加
  - レベル20: 最大HP200、4つの開始アイテム
- **アンロック条件の複合判定**: AND/OR条件による複雑な解放条件
- **TAPマイルストーン報酬**: 特定TAP達成時の報酬システム
  - 500、1000、2000、5000、10000、25000、50000、100000
- **進歩の可視化**: 進歩バー、インジケーターの詳細表示

### 6. ショップシステムの追加機能
- **一時的ブースター**: 1ゲーム限定の効果アイテム
  - doubleScoreBooster: スコア2倍（30AP）
  - luckyBooster: 特殊泡出現率アップ（25AP）
  - shieldBooster: ダメージ半減（35AP）
- **プレミアムパス**: 30日間AP獲得量2倍（500AP）
- **アイテムセット**: 複数アイテムのセット販売
- **購入履歴管理**: 購入履歴の保存と表示

### 7. 実績システムの高度な機能
- **進捗追跡**: 実績達成までの進捗率表示
- **カテゴリ管理**: 実績のカテゴリ別整理
  - 基本プレイ、スコア、コンボ、特殊泡、サバイバル、ステージ、テクニック、コレクション、チャレンジ
- **レア度システム**: 実績の希少性表示
- **バッチ処理**: 複数実績の効率的なチェック

### 8. 通知システム
- **チャレンジ通知**: 新チャレンジ、完了通知
- **システム通知**: 重要なゲームイベント通知

## 優先度の高い漏れ機能

特に以下の機能は、ゲームの品質と体験に大きく影響するため、実装計画への追加を推奨します：

1. **泡の物理挙動システム**（自然移動、呼吸、境界反発）
2. **カーソル・クリックアニメーションシステム**
3. **動的品質調整**
4. **レベル特典システム**
5. **一時的ブースター**
6. **進捗追跡システム**

これらの機能を実装計画に追加することで、より完成度の高いゲームを実現できます。